<!DOCTYPE html>
<html lang="en">
    <head>
        {% load static %}
        <title>Shared Convos - DjangoAI</title>
        <meta charset="UTF-8">
        <meta name="csrf-token" content="{{ csrf_token }}">
        <script src="https://cdn.tailwindcss.com"></script>
        <script src="https://kit.fontawesome.com/38683e14e9.js" crossorigin="anonymous"></script>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <link rel="stylesheet" type="text/css" href="{% static 'css/main.css' %}">
    </head>
<body class="bg-gray-950 text-gray-100">
    <div class="flex flex-col min-h-screen">
        <header class="bg-gray-800 px-8 py-4 border-b border-gray-700 shadow-md">
            <h2 class="text-2xl font-semibold">Shared Conversation</h2>
            <p class="text-sm text-gray-400">You are viewing a shared conversation.</p>
        </header>
        <section class="flex-1 p-8 overflow-y-auto bg-gray-900">
            {% for message in messages %}
                {% if message.sender == 'user' %}
                    <div class="mb-4 flex justify-end">
                        <div class="max-w-md rounded-lg px-4 py-2 bg-indigo-600 text-white shadow-md">
                            {{ message.text|escape }}
                        </div>
                    </div>
                {% else %}
                    {% if message.image_url %}
                    <img src="{{ message.image_url }}" alt="Generated Image" class="rounded mt-2 max-w-full h-auto" />
                {% else %}
                    <div class="mb-4 flex justify-start">
                        <div class="max-w-md rounded-lg px-4 py-2 bg-gray-700 text-white shadow-md">
                            {{ message.text|escape }}
                        </div>
                    </div>
                {% endif %}
                {% endif %}
            {% endfor %}
        </section>
        <footer class="bg-gray-800 p-6 text-center">
            <p class="text-sm text-gray-400">Powered by DjangoAI</p>
        </footer>
    </div>
</body>
</html>
